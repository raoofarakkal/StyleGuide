(function(){tinymce.PluginManager.requireLangPack('resgall');tinymce.create('tinymce.plugins.resgallPlugin',{init:function(ed,url){ed.addCommand('mceresgall',function(){ed.windowManager.open({file:'/Resource_gallery/searchresource.aspx?status=99',width:900+parseInt(ed.getLang('resgall.delta_width',0)),height:600+parseInt(ed.getLang('resgall.delta_height',0)),inline:1,scrollbars:1},{plugin_url:url,some_custom_arg:'custom arg'});});ed.addButton('resgall',{title:'resgall.desc',cmd:'mceresgall',image:url+'/img/resgall.png'});ed.onNodeChange.add(function(ed,cm,n){cm.setActive('resgall',n.nodeName=='IMG');});},createControl:function(n,cm){return null;},getInfo:function(){return{longname:'resgall plugin',author:'Babar Mustafa',authorurl:'english.aljazeera.tv',infourl:'english.aljazeera.tv',version:"1.0"};}});tinymce.PluginManager.add('resgall',tinymce.plugins.resgallPlugin);})();